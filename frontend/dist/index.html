<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>StudioX Cloud — Preview</title>
<style>
:root{--bg:#0b0f1a;--muted:#9aa4b2;--glow:0 0 18px rgba(124,92,255,0.45)}
body{margin:0;font-family:Inter,Arial;background:linear-gradient(180deg,#071020,#0b0f1a);color:#e6eef8}
.container{max-width:880px;margin:48px auto;padding:36px;background:rgba(255,255,255,0.02);border-radius:12px}
.header{display:flex;align-items:center;gap:16px}
.logo{width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,#7c5cff,#43d1ff);box-shadow:var(--glow)}
.btn{padding:12px 18px;border-radius:10px;background:linear-gradient(90deg,#6f56ff,#9ad1ff);color:#021029;border:none;cursor:pointer}
.small{font-size:13px;color:var(--muted)}
.card{background:rgba(255,255,255,0.02);padding:16px;border-radius:8px;margin-top:18px}
.video{width:100%;max-height:360px;border-radius:8px;background:#000}
.result{margin-top:12px;padding:12px;border-radius:8px;background:linear-gradient(90deg,rgba(124,92,255,0.06),transparent);color:#dfe7ff}
</style>
</head>
<body>
<div class="container">
  <div class="header"><div class="logo"></div><div><h1>StudioX Cloud — Preview</h1><div class="small">Turn Stories into Stunning AI Narration Videos</div></div></div>

  <div class="card">
    <h3>Sample Stories (preloaded)</h3>
    <ol class="small"><li>The Pebble Path — <em>Click Generate to create a sample video</em></li><li>Rise of Anu</li><li>The Box of Dreams</li></ol>
    <div style="margin-top:16px"><button id="gen" class="btn">Generate Sample Video</button> <span id="status" class="small">Ready</span></div>
    <div id="result" class="result" style="display:none"></div>

    <div class="card" style="margin-top:16px">
      <h4>Players</h4>
      <video id="demoVideo" class="video" controls><source src="/static/sample.mp4" type="video/mp4">Your browser does not support the video tag.</video>
      <div style="margin-top:12px">
        <audio controls src="/static/song1.mp3"></audio>
        <audio controls src="/static/song2.mp3"></audio>
        <audio controls src="/static/song3.mp3"></audio>
      </div>
    </div>
  </div>
</div>
<script>
const btn = document.getElementById('gen');
const status = document.getElementById('status');
const result = document.getElementById('result');
btn.addEventListener('click', async ()=>{
  try{
    status.textContent='Calling API...'; btn.disabled=true;
    const res = await fetch('/api/sample'); const j = await res.json();
    status.textContent='Done'; result.style.display='block'; result.innerHTML = '<strong>API:</strong> '+(j.message||JSON.stringify(j))+'<br><strong>Story:</strong> '+(j.sample_story||'n/a');
    document.getElementById('demoVideo').play().catch(()=>{});
  }catch(e){ status.textContent='Error'; result.style.display='block'; result.textContent='Error: '+e.message; }finally{ btn.disabled=false; }
});
</script>
</body>
</html>
